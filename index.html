<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HLS Player</title>
    <link rel="shortcut icon" href="#">

    <!-- ## CSS -->
    <link rel="stylesheet" href="./assets/css/video-js-8.9.0.min.css">
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <main>
        <section class="video">
            <div class="content">
                <video-js id="video-player" class="video-player vjs-16-9">
                </video-js>
                <p id="video-name" class="video-name"></p>
                <div class="video-controls">
                    <button id="previous" class="video-control">Previous</button>
                    <button id="next" class="video-control">Next</button>
                </div>
            </div>
        </section>
    </main>
    <script src="./assets/js/video-8.9.0.min.js"></script>
    <!-- <script src="./assets/js/dash-4.7.3.all.min.js"></script> -->
    <!-- <script src="./assets/js/videojs-dash-5.1.1.min.js"></script> -->
    <script>
        const player = videojs('video-player', {
            customControlsOnMobile: true,
            nativeControlsForTouch: false,
            controls: true,
            fill: false,
            autoplay: true,
            responsive: true,
            fluid: true,
            playbackRates: [0.5, 1, 1.5, 2],
        });
        const videoSrcs = [{
            name: "NƠI NÀY CÓ ANH | OFFICIAL MUSIC VIDEO | SƠN TÙNG M-TP",
            link: "./assets/video/0f411596d41b5c003c5e82bbf7078d9b/0f411596d41b5c003c5e82bbf7078d9b.mpd"
        }, {
            name: "SƠN TÙNG M-TP x BOMATELA | MUỘN RỒI MÀ SAO CÒN (REMIX) | OFFICIAL VISUALIZER"
            , link: "./assets/video/57b08678fdb51081f122e18b5e122eb1/57b08678fdb51081f122e18b5e122eb1.mpd"
        },  {
            name: "SƠN TÙNG M-TP x BOMATELA | CÓ CHẮC YÊU LÀ ĐÂY (REMIX) | SHOW RECAP",
            link: "./assets/video/63413de82e20a03dd7fd780557a1bdad/63413de82e20a03dd7fd780557a1bdad.mpd"
        }, {
            name: "[CÂU CHUYỆN NGÀY CẬN TẾT] SƠN TÙNG M-TP | CHÚNG TA CỦA HIỆN TẠI DANCE BY B-WILD | PHỐ ĐI BỘ VIỆT NAM",
            link: "./assets/video/118ed6dff345c31835ea82a3fd3609ad/118ed6dff345c31835ea82a3fd3609ad.mpd"

        }, {
            name: "EM CỦA NGÀY HÔM QUA - SƠN TÙNG M-TP | CHUNG KẾT VIETNAM IDOL 2023",
            link: "./assets/video/ce8e9b7445e80ec22afc8c0490f3f891/ce8e9b7445e80ec22afc8c0490f3f891.mpd"
        },
        ];
        const videoName = document.getElementById('video-name');
        let videoIndex = 0;
        const previousBtn = document.getElementById('previous')
        const nextBtn = document.getElementById('next')

        previousBtn.onclick = (e) => {
            videoIndex = videoIndex == 0 ? videoSrcs.length - 1 : videoIndex - 1;
            changeVideo();
        }

        nextBtn.onclick = (e) => {
            videoIndex = videoIndex == videoSrcs.length - 1 ? 0 : videoIndex + 1;
            changeVideo();
        }

        function changeVideo() {
            player.src({ type: "application/dash+xml", src: videoSrcs[videoIndex].link });
            videoName.innerText = videoSrcs[videoIndex].name;
        }

        changeVideo();
        player.play();
    </script>
</body>

</html>